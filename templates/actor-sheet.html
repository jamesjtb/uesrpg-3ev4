<form class="{{cssClass}}" autocomplete="off">

    {{!-- Sheet Header --}}
    <div class="stickyHeader">
        <div class="headerContainer">
            <div>
                <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}">
            </div>
            <div class="headerInfoFlexBox">
                <div>
                    <h1 class="charname"><input type="text" name="name" value="{{actor.name}}" placeholder="Name"></h1>
                </div>
                <div class="resourceBars">
                    <div id="hpResource">
                        <div class="resourceLabel">
                            <button type="button" data-resource="hp">Health</button>
                            <div class="resourceButton">
                                <i data-action="increase" data-resource="hp" class="fas fa-plus fa-xs incrementResource"></i>
                                <i data-action="decrease" data-resource="hp" class="fas fa-minus fa-xs incrementResource"></i>
                            </div>
                        </div>
                        <div class="maxBar" data-resource="hp">
                            <div id="hpBar" class="currentBar" data-resource="hp">{{data.hp.value}} / {{data.hp.max}}</div>
                        </div>
                    </div>
                    <div id="staminaResource">
                        <div class="resourceLabel">
                            <button type="button" data-resource="stamina">Stamina</button>
                            <div class="resourceButton">
                                <i data-action="increase" data-resource="stamina" class="fas fa-plus fa-xs incrementResource"></i>
                                <i data-action="decrease" data-resource="stamina" class="fas fa-minus fa-xs incrementResource"></i>
                            </div>
                        </div>
                        <div class="maxBar" data-resource="stamina">
                            <div id="staminaBar" class="currentBar" data-resource="stamina">{{data.stamina.value}} / {{data.stamina.max}}</div>
                        </div>
                    </div>
                    <div id="magickaResource">
                        <div class="resourceLabel">
                            <button type="button" data-resource="magicka">Magicka</button>
                            <div class="resourceButton">
                                <i data-action="increase" data-resource="magicka" class="fas fa-plus fa-xs incrementResource"></i>
                                <i data-action="decrease" data-resource="magicka" class="fas fa-minus fa-xs incrementResource"></i>
                            </div>
                        </div>
                        <div class="maxBar" data-resource="magicka">
                            <div id="magickaBar" class="currentBar" data-resource="magicka">{{data.magicka.value}} / {{data.magicka.max}}</div>
                        </div>
                    </div>
                    <div id="luckResource">
                        <div class="resourceLabel">
                            <button type="button" data-resource="luck_points">Luck</button>
                            <div class="resourceButton">
                                <i data-action="increase" data-resource="luck_points" class="fas fa-plus fa-xs incrementResource"></i>
                                <i data-action="decrease" data-resource="luck_points" class="fas fa-minus fa-xs incrementResource"></i>
                            </div>
                        </div>
                        <div class="maxBar" data-resource="luck_points">
                            <div id="luck_pointsBar" class="currentBar" data-resource="luck_points">{{data.luck_points.value}} / {{data.luck_points.max}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Sheet Tab Navigation --}}
        <nav class="sheet-tabs tabs" data-group="primary">
            <a class="item" data-tab="core">Core</a>
            <a class="item" data-tab="combat">Combat</a>
            <a class="item" data-tab="magic">Magic</a>
            <a class="item" data-tab="equipment">Equipment</a>
            <a class="item" data-tab="journal">Journal</a>
        </nav>
    </div>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        
        {{!-- Core Tab --}}
        <div class="tab core" data-group="primary" data-tab="core">
            <div class="coreTabContainer">
                <div class="characteristicSideBar">
                    <table>
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <button type="button" class="setBaseCharacteristics">
                                        Characteristics
                                    </button>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.str.favored" {{checked data.characteristics.str.favored}}></td>
                                <td><button type="button" id="str" name="Strength" class="characteristic-roll">Strength: {{data.characteristics.str.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.end.favored" {{checked data.characteristics.end.favored}}></td>
                                <td><button type="button" id="end" name="Endurance" class="characteristic-roll">Endurance: {{data.characteristics.end.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.agi.favored" {{checked data.characteristics.agi.favored}}></td>
                                <td><button type="button" id="agi" name="Agility" class="characteristic-roll">Agility: {{data.characteristics.agi.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.int.favored" {{checked data.characteristics.int.favored}}></td>
                                <td><button type="button" id="int" name="Intelligence" class="characteristic-roll">Intelligence: {{data.characteristics.int.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.wp.favored" {{checked data.characteristics.wp.favored}}></td>
                                <td><button type="button" id="wp" name="Willpower" class="characteristic-roll">Willpower: {{data.characteristics.wp.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.prc.favored" {{checked data.characteristics.prc.favored}}></td>
                                <td><button type="button" id="prc" name="Perception" class="characteristic-roll">Perception: {{data.characteristics.prc.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.prs.favored" {{checked data.characteristics.prs.favored}}></td>
                                <td><button type="button" id="prs" name="Personality" class="characteristic-roll">Personality: {{data.characteristics.prs.total}}</button></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" name="data.characteristics.lck.favored" {{checked data.characteristics.lck.favored}}></td>
                                <td><button type="button" id="lck" name="Luck" class="characteristic-roll">Luck: {{data.characteristics.lck.total}}</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="skillContainer">
                    <h2 class="headerWithButton">
                        <button type="button" class="item-create" id="skill">+</button>
                        <label>Skills</label>
                    </h2>
                    <ol class="skillList">
                        {{#each actor.data.skill as |item id|}}
                            <li class="item flexrow" data-item-id="{{item._id}}">
                                <div class="itemInfo">
                                    <i class="fas fa-dice-d20 skill-roll"></i>
                                    <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                    <div class="item-name">{{item.name}}</div>
                                </div>
                                <div class="item-controls">
                                    <div class="item-value">{{item.data.value}}%</div>
                                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                </div>
                            </li>
                        {{/each}}
                    </ol>
                </div>

                <div class="bioContainer">
                    <h2>About</h2>
                    <div class="buttonStats">
                        <button type="button" id="luckyMenu">Lucky/Unlucky</button>
                        <button type="button" id="xpMenu">Exp: {{data.xp}}</button>
                        <button type="button" id="raceMenu">Race: {{data.race}}</button>
                        <button type="button" id="birthSignMenu">Sign: {{data.birthsign}}</button>
                    </div>
                    <div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Age</th>
                                    <th>Height</th>
                                    <th>Weight</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="number" name="data.age" value="{{data.age}}"></td>
                                    <td><input type="text" name="data.height" value="{{data.height}}"></td>
                                    <td><input type="number" name="data.weight" value="{{data.weight}}"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="languageContainer">
                        <h2 class="headerWithButton">
                            <button type="button" class="item-create" id="language">+</button>
                            <label>Languages</label>
                        </h2>
                        <ol class="skillList">
                            {{#each actor.data.language as |item id|}}
                                <li class="item flexrow" data-item-id="{{item._id}}">
                                    <div class="itemInfo">
                                        <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                        <div class="item-name">{{item.name}}</div>
                                    </div>
                                    <div class="item-controls">
                                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                    </div>
                                </li>
                            {{/each}}
                        </ol>
                    </div>
                    <div class="bioPage">
                        <h2>Biography</h2>
                        <div class="contentContainer">
                            {{editor content=data.data.bio target="data.data.bio" button=true owner=owner editable=editable}}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Combat Tab --}}
        <div class="tab combat" data-group="primary" data-tab="combat">
            <div class="combatTabContainer">

                <div class="combatSegment">
                    <div class="paperDollContainer">
                        <div class="woundedInputContainer">
                            <input title="Wounded" class="woundCheckBox" type="checkbox" name="data.wounded" {{checked data.wounded}}>
                        </div>
                        <div class="leftColumn">
                            <div class="flexContainer">
                                <i class="fas fa-weight-hanging burdenIcon" title="ENC"> {{data.carry_rating.current}} / {{data.carry_rating.max}}</i>
                                <i class="fas fa-heart-broken woundIcon" title="Wound Penalty"> {{data.woundPenalty}}</i>
                            </div>
                        </div>
                        <img id="paperDoll" src="{{data.paperDoll}}" data-edit="data.paperDoll">
                    </div>
                    <div class="equippedItemsContainer">
                        <button type="button" title="Head" class="equippedGridBox" data-equip-location="head" style="background: url({{data.equippedArmor.head.img}}); background-size: contain;"></button>
                        <button type="button" title="Neck" class="equippedGridBox" data-equip-location="neck" style="background: url({{data.equippedArmor.neck.img}}); background-size: contain;"></button>
                        <button type="button" title="Chest" class="equippedGridBox"data-equip-location="chest" style="background: url({{data.equippedArmor.chest.img}}); background-size: contain;"></button>
                        <div class="ringsContainer">
                            <button type="button" title="Ring 1" class="ringGridBox" style="background: url({{data.equippedArmor.ring1.img}}); background-size: cover;"></button>
                            <button type="button" title="Ring 2" class="ringGridBox" style="background: url({{data.equippedArmor.ring2.img}}); background-size: cover;"></button>
                        </div>
                        <button type="button" title="Left Arm" class="equippedGridBox" data-equip-location="leftArm" style="background: url({{data.equippedArmor.leftArm.img}}); background-size: contain;"></button>
                        <button type="button" title="Right Arm" class="equippedGridBox" data-equip-location="rightArm" style="background: url({{data.equippedArmor.rightArm.img}}); background-size: contain;"></button>
                        <button type="button" title="Left Leg" class="equippedGridBox" data-equip-location="leftLeg" style="background: url({{data.equippedArmor.leftLeg.img}}); background-size: contain;"></button>
                        <button type="button" title="Right Leg" class="equippedGridBox" data-equip-location="rightLeg" style="background: url({{data.equippedArmor.rightLeg.img}}); background-size: contain;"></button>
                        <button type="button" title="Primary Weapon" class="equippedGridBox" data-equip-location="primaryWeapon" style="background: url({{data.equippedWeapons.primaryWeapon.img}}); background-size: contain;"></button>
                        <button type="button" title="Secondary Weapon" class="equippedGridBox" data-equip-location="secondaryWeapon" style="background: url({{data.equippedWeapons.secondaryWeapon.img}}); background-size: contain;"></button>
                    </div>
                    <div class="combatNavContainer">
                        <div class="combatNavBar">
                            <nav>
                                <a>Combat</a>
                                <a>Items</a>
                                <a>Abilities</a>
                            </nav>
                        </div>
                        <div class="combatNav navMain active">
                            <div class="flexContainer">
                                <div class="combatStats">
                                    <div class="resistanceContainer">
                                        <button type="button" id="diseaseR" class="resistance resistance-roll" title="Disease Resistance">
                                            <i class="fas fa-bacterium"></i>
                                            <div>{{data.resistance.diseaseR}}%</div
                                        ></button>
                                        <button id="fireR" class="resistance" title="Fire Resistance">
                                            <i class="fas fa-fire"></i>
                                            <div>{{data.resistance.fireR}}</div>
                                        </button>
                                        <button id="frostR" class="resistance" title="Frost Resistance">
                                            <i class="fas fa-snowflake"></i>
                                            <div>{{data.resistance.frostR}}</div>
                                        </button>
                                        <button id="shockR" class="resistance" title="Shock Resistance">
                                            <i class="fas fa-bolt"></i>
                                            <div>{{data.resistance.shockR}}</div>
                                        </button>
                                        <button id="poisonR" class="resistance" title="Poison Resistance">
                                            <i class="fas fa-skull-crossbones"></i>
                                            <div>{{data.resistance.poisonR}}</div>
                                        </button>
                                        <button id="magicR" class="resistance" title="Magic Resistance">
                                            <i class="fas fa-hand-sparkles"></i>
                                            <div>{{data.resistance.magicR}}</div>
                                        </button>
                                        <button id="natToughness" class="resistance" title="Natural Toughness">
                                            <i class="fa fa-fist-raised"></i>
                                            <div>{{data.resistance.natToughness}}</div>
                                        </button>
                                        <button id="silverR" class="resistance" title="Silver Resistance">
                                            <i class="fab fa-wolf-pack-battalion"></i>
                                            <div>{{data.resistance.silverR}}</div>
                                        </button>
                                        <button id="sunlightR" class="resistance" title="Sunlight Resistance">
                                            <i class="fas fa-sun"></i>
                                            <div>{{data.resistance.sunlightR}}</div>
                                        </button>
                                    </div>
                                    <table>
                                        <thead>
                                            <tr>
                                                <th><i class="fas fa-dice-d20"></i></th>
                                                <th>Combat Style</th>
                                                <th>Rank</th>
                                                <th>Target</th>
                                                <th><i class="fas fa-trash"></i></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each actor.data.combatStyle as |item id|}}
                                            <tr class="item" data-item-id="{{item._id}}">
                                                <td><i class="fas fa-dice-d20 combat-roll"></i></td>
                                                <td>
                                                    <div class="itemInfo">
                                                        <img src="{{item.img}}" class="item-img">
                                                        <div class="item-name">{{item.name}}</div>
                                                    </div>
                                                </td>
                                                <td>{{item.data.rank}}</td>
                                                <td>{{item.data.value}}%</td>
                                                <td><a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a></td>
                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="combatNav navItems">

                        </div>
                        <div class="combatNav navAbilities">

                        </div>
                    </div>
                </div>

            </div>
        </div>

        {{!-- Magic Tab --}}
        <div class="tab magic" data-group="primary" data-tab="magic">
            <div class="magicTabContainer">
                <div class="magicSideBarContainer">
                    <div class="magicSkillContainer">
                        <h2 class="headerWithButton">
                            <button type="button" class="item-create" id="magicSkill">+</button>
                            <label>Magic Skills</label>
                        </h2>
                        <ol class="skillList">
                            {{#each actor.data.magicSkill as |item id|}}
                                <li class="item flexrow" data-item-id="{{item._id}}">
                                    <div class="itemInfo">
                                        <i class="fas fa-dice-d20 skill-roll"></i>
                                        <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                        <div class="item-name">{{item.name}}</div>
                                    </div>
                                    <div class="item-controls">
                                        <div class="item-value">{{item.data.value}}%</div>
                                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                    </div>
                                </li>
                            {{/each}}
                        </ol>
                    </div>
                </div>

                <div class="spellListContainer">
                    <div class="tableListHeader">
                        <h2>
                            <div class="leftInfo">
                                <button type="button" class="item-create" id="spell">+</button>
                                <label>Spells</label>
                            </div>
                            <select id="spellFilter">
                                <option>All</option>
                            </select>
                        </h2>
                    </div>
                    <div class="spellList">
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>School</th>
                                    <th><i class="fas fa-trash"></i></th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each actor.data.spell as |item id|}}
                                    <tr class="item active" data-item-id="{{item._id}}" data-spell-school="{{item.data.school}}">
                                        <td>
                                            <div class="tableItemNameCell">
                                                <i class="fas fa-dice-d20 magic-roll"></i>
                                                <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                                <div class="item-name">{{item.name}}</div>
                                            </div>
                                        </td>
                                        <td>{{item.data.school}}</td>
                                        <td>
                                            <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Equipment Tab --}}
        <div class="tab equipment" data-group="primary" data-tab="equipment">
            <div class="equipmentTabContainer">
                <div class="itemListContainer">
                    <div class="tableListHeader">
                        <h2>
                            <div class="leftInfo">
                                <button type="button" class="item-create" id="item">+</button>
                                <label>Equipment</label>
                            </div>
                            <div class="rightInfo">
                                <div class="wealthContainer">
                                    <button type="button">
                                        <img class="wealthCalc" src="icons/commodities/currency/coins-plain-stack-gold-yellow.webp" alt="wealth" title="Quick Add/Subtract">
                                    </button>
                                    <input type="number" name="data.wealth" value="{{data.wealth}}">
                                </div>
                                <div class="encContainer">
                                    <button>
                                        <img class="carryBonus" src="icons/tools/hand/scale-balances-merchant-brown.webp" alt="scaleENC" title="Set Carry Bonus">
                                    </button>
                                    <div class="encLabel">{{data.carry_rating.current}} / {{data.carry_rating.max}} ENC</div>
                                </div>
                            </div>
                        </h2>
                    </div>
                    <div class="equipmentList">
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>ENC</th>
                                    <th>Price</th>
                                    <th>QTY</th>
                                    <th><i class="fas fa-trash"></i></th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each actor.data.gear as |item id|}}
                                    <tr class="item active" data-item-id="{{item._id}}" data-spell-school="{{item.data.school}}">
                                        <td>
                                            <div class="tableItemNameCell">
                                                <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                                <div class="item-name">{{item.name}}</div>
                                            </div>
                                        </td>
                                        <td>{{item.data.enc}}</td>
                                        <td>{{item.data.price}}</td>
                                        <td>
                                            <div class="qty-controls">
                                                <button class="minusQty plusQty" title="Click to increase, right click to decrease">
                                                    <div>{{item.data.quantity}}</div>
                                                </button>
                                            </div>
                                        </td>
                                        <td>
                                            <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Journal Tab --}}
        <div class="tab journal" data-group="primary" data-tab="journal">
            <div class="journalTabContainer">
                <div class="journalContainer">
                    <h2>Journal</h2>
                    <div>
                        {{editor content=data.notes target="data.notes" button=true owner=owner editable=this.options.editable}}
                    </div>
                </div>
                <div class="factionContainer">
                    <h2 class="headerWithButton">
                        <button type="button" class="item-create" id="faction">+</button>
                        <label>Factions</label>
                    </h2>
                    <ol class="skillList">
                        {{#each actor.data.faction as |item id|}}
                            <li class="item flexrow" data-item-id="{{item._id}}">
                                <div class="itemInfo">
                                    <img class="item-img" src="{{item.img}}" title="Send to Chat"/>
                                    <div class="item-name">{{item.name}}</div>
                                </div>
                                <div class="item-controls">
                                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                </div>
                            </li>
                        {{/each}}
                    </ol>
                </div>
            </div>
        </div>
    </section>
</form>

